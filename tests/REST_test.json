{
  "prevaluate":[
    "sh ../scripts/setup.sh"
  ],
  "runProcesses":[
    "csd start",
    "cscli rest-server --chain-id testCardchain --trust-node"
  ],
  "testCases":
  [
    {
    "name":"buyCardScheme",
    "route": "http://localhost:1317/cardservice/buy_card_scheme",
    "reqBody": {
      "base_req": {
        "from":"%s",
        "chain_id":"testCardchain",
        "gas": "auto",
        "gas_adjustment": "1.5"
      },
      "amount":"991credits",
      "buyer":"%s"
    },
    "evaluate": [
      "sh getAliceAddress.sh",
      "sh getAliceAddress.sh"
    ],
    "method": "POST",
    "sign": "sh signAlice.sh",
    "broadcast": "cscli tx broadcast signedTx.json",
    "expected": {
      "properties": {
        "hash": {
            "description":"hash of tx",
            "type":"string"
          }
        }
      }
    },

    {
    "name":"getFirstCard",
    "route": "http://localhost:1317/cardservice/card/1",
    "reqBody": {
    },
    "evaluate": [
    ],
    "method": "GET",
    "sign": "",
    "broadcast": "",
    "expected": {
      "required": ["value"],
      "properties": {
        "value": {
            "type":"object"
          }
        }
      }
    },

    {
    "name":"saveCardContent",
    "route": "http://localhost:1317/cardservice/save_card_content",
    "reqBody": {
        "base_req":{
            "from":"%s",
            "chain_id":"testCardchain",
            "gas": "auto",
            "gas_adjustment": "1.5"
          },
          "owner":"%s",
          "content":"this_is_shitcard",
          "cardid":"1"
        },
    "evaluate": [
      "cscli keys show alice --address",
      "cscli keys show alice --address"
    ],
    "method": "PUT",
    "sign": "sh signAlice.sh",
    "broadcast": "cscli tx broadcast signedTx.json",
    "expected": {
      "properties": {
        "hash": {
            "description":"hash of tx",
            "type":"string"
          }
        }
      }
    }

  ],
  "postvaluate":[
  ]
}
