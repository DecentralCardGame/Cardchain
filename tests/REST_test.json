{
  "prevaluate":[
    "sh setup.sh",
    "nohup csd start &",
    "AliceAddress=$(cscli keys show alice --address)",
    "BobAddress=$(cscli keys show  bob --address)",
    "nohup cscli rest-server --chain-id testCardchain --trust-node &",
    "URL='http://localhost:1317/auth/accounts/'",
    "curlcmd='curl'",
    "echo $URL"
  ],
  "oldcurlcmd": "curl -s --insecure",
  "testCases":
  [
    {
    "name":"getFirstCard",
    "route": "http://localhost:1317/cardservice/card/1",
    "reqBody": {
    },
    "evaluate": [
    ],
    "method": "GET",
    "expected": {
      "required": ["value"],
      "properties": {
        "value": {
            "type":"object"
          }
        }
      }
    },

    {
    "name":"buyCardScheme",
    "route": "http://localhost:1317/cardservice/buy_card_scheme",
    "reqBody": {
      "base_req": {
        "from":"%s",
        "chain_id":"testCardchain",
        "gas": "auto",
        "gas_adjustment": "1.5"
      },
      "amount":"991credits",
      "buyer":"%s"
    },
    "evaluate": [
      "echo ${AliceAddress}",
      "echo ${AliceSequence}",
      "echo ${AliceAccountNumber}",
      "echo ${AliceAddress}"
    ],
    "method": "POST",
    "expected": {
      "properties": {
        "hash": {
            "description":"hash of tx",
            "type":"string"
          }
        }
      }
    },

    {
    "name":"saveCardContent",
    "route": "http://localhost:1317/cardservice/save_card_content",
    "reqBody": {
      "base_req": {
        "from":"%s",
        "chain_id":"testCardchain",
        "sequence":"1",
        "account_number":"%s"
      },
      "cardId":"0",
      "content":"",
      "owner":"%s"
    },
    "evaluate": [
      "echo ${AliceAddress}",
      "echo ${AliceSequence}",
      "echo ${AliceAccountNumber}",
      "echo ${AliceAddress}"
    ],
    "method": "-XPUT",
    "expected": {
      "properties": {
        "hash": {
            "description":"hash of tx",
            "type":"string"
          }
        }
      }
    }

  ],

  "postvaluate":[
    "kill %1",
    "kill %2"
  ]
}
